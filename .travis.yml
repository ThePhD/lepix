dist: trusty
sudo: required

services:
     - docker

before_install:
     - docker pull ubuntu:latest

script:
     - docker run -v${PWD}: -t ubuntu:yakkety bash -c "apt install update && apt install python python3 build-essential ocaml opam llvm llvm-dev git llvm.3.8 && opam init && opam install llvm && opam install llvm.3.8 && eval $(opam config env) && cd source && make lepix && cd .. && python tests/tests.py && cd .."

notifications:
     email:
          on_success: change
          on_failure: change
